# 권한 관리

## 운영체제 보안 기능

### 개요
권한 관리(Permission Management)는 운영체제의 핵심 보안 기능 중 하나로, 시스템 자원에 대한 사용자 및 프로세스의 접근 권한을 효과적으로 관리하는 메커니즘입니다. 이 장에서는 권한 관리의 기본 개념, 운영체제별 권한 관리 방식, 권한 관리 모범 사례, 그리고 권한 관리와 관련된 보안 이슈에 대해 살펴봅니다.

### 권한 관리의 기본 개념

#### 권한의 정의와 목적
권한(Permission)은 시스템 자원에 대해 특정 작업을 수행할 수 있는 능력을 의미합니다:

- **권한의 목적**:
  - 시스템 자원 보호
  - 사용자 간 데이터 분리
  - 악의적인 행위 방지
  - 시스템 안정성 유지

#### 권한 유형
운영체제에서 관리하는 주요 권한 유형은 다음과 같습니다:

1. **파일 시스템 권한**:
   - 읽기(Read): 파일 내용 확인, 디렉토리 목록 조회
   - 쓰기(Write): 파일 내용 수정, 디렉토리에 파일 생성/삭제
   - 실행(Execute): 프로그램 실행, 디렉토리 접근

2. **시스템 권한**:
   - 관리자/루트 권한: 시스템 전체 제어
   - 장치 접근 권한: 하드웨어 장치 사용
   - 네트워크 권한: 네트워크 인터페이스 제어

3. **프로세스 권한**:
   - 메모리 접근 권한
   - CPU 사용 권한
   - 다른 프로세스 제어 권한

#### 권한 관리 원칙
효과적인 권한 관리를 위한 기본 원칙입니다:

1. **최소 권한 원칙(Principle of Least Privilege)**:
   - 작업 수행에 필요한 최소한의 권한만 부여
   - 불필요한 권한은 제거

2. **직무 분리(Separation of Duties)**:
   - 중요 작업을 여러 사용자로 분리
   - 단일 사용자의 권한 남용 방지

3. **기본 거부(Default Deny)**:
   - 명시적으로 허용되지 않은 모든 접근 거부
   - 화이트리스트 방식 적용

4. **권한 검증(Privilege Verification)**:
   - 모든 권한 사용 전 검증
   - 권한 상승 시 추가 인증 요구

### 운영체제별 권한 관리

#### Windows 권한 관리
Windows 운영체제에서의 권한 관리 메커니즘입니다:

1. **사용자 계정 유형**:
   - 관리자(Administrator): 시스템 전체 제어 권한
   - 표준 사용자(Standard User): 제한된 권한
   - 게스트(Guest): 매우 제한된 권한

2. **User Account Control(UAC)**:
   - 관리자 권한 사용 제한
   - 권한 상승 시 명시적 승인 요구
   - 권한 상승 작업 로깅

   ```mermaid
   graph TD
       A["표준 사용자 권한으로 실행"] --> B["관리자 권한 필요 작업 시도"]
       B --> C["UAC 프롬프트 표시"]
       C -->|"승인"| D["관리자 권한으로 실행"]
       C -->|"거부"| E["작업 취소"]
   ```

3. **보안 식별자(SID)**:
   - 사용자, 그룹, 컴퓨터 등을 고유하게 식별
   - 접근 토큰에 포함되어 권한 확인에 사용

4. **권한 할당 방식**:
   - 직접 할당: 개별 사용자에게 권한 부여
   - 그룹 할당: 그룹을 통한 권한 관리
   - 상속: 상위 객체로부터 권한 상속

#### Unix/Linux 권한 관리
Unix/Linux 시스템에서의 권한 관리 메커니즘입니다:

1. **사용자 및 그룹**:
   - 루트(root): 시스템 관리자(UID 0)
   - 일반 사용자: 제한된 권한을 가진 사용자
   - 그룹: 여러 사용자를 묶어 권한 관리

2. **파일 권한 비트**:
   - 소유자(u), 그룹(g), 기타(o)에 대한 읽기(r), 쓰기(w), 실행(x) 권한
   - 8진수 표기법: 4(읽기) + 2(쓰기) + 1(실행)

   ```
   -rwxr-xr--  1 user group  4096 Aug 24 15:30 example.txt
   ```
   - 소유자: rwx (7)
   - 그룹: r-x (5)
   - 기타: r-- (4)

3. **특수 권한 비트**:
   - SetUID(4000): 실행 시 소유자 권한으로 실행
   - SetGID(2000): 실행 시 그룹 권한으로 실행
   - Sticky Bit(1000): 디렉토리 내 파일 삭제 제한

4. **sudo 메커니즘**:
   - 일시적으로 루트 권한 획득
   - 특정 명령에 대한 권한 부여
   - 권한 사용 로깅

5. **기능(Capabilities)**:
   - 루트 권한을 세분화하여 관리
   - 필요한 특정 권한만 부여 가능
   - 최소 권한 원칙 구현에 유용

#### macOS 권한 관리
macOS에서의 권한 관리 메커니즘입니다:

1. **사용자 계정 유형**:
   - 관리자: 시스템 설정 변경 권한
   - 표준: 제한된 권한
   - 게스트: 임시 사용자

2. **파일 권한**:
   - Unix 스타일의 권한 비트
   - ACL(Access Control List) 지원

3. **권한 승인**:
   - 관리자 권한 작업 시 인증 요구
   - TouchID/FaceID를 통한 권한 승인

4. **샌드박스(Sandbox)**:
   - 애플리케이션 권한 제한
   - 필요한 리소스에만 접근 허용

### 권한 관리 도구 및 기법

#### 권한 관리 도구
운영체제에서 제공하는 권한 관리 도구입니다:

1. **Windows 권한 관리 도구**:
   - 로컬 보안 정책(Local Security Policy)
   - 그룹 정책(Group Policy)
   - 사용자 계정 관리(User Account Management)
   - 권한 할당(User Rights Assignment)

2. **Unix/Linux 권한 관리 도구**:
   - chmod: 파일 권한 변경
   - chown: 파일 소유자 변경
   - chgrp: 파일 그룹 변경
   - sudo: 권한 상승
   - setfacl/getfacl: ACL 관리

3. **macOS 권한 관리 도구**:
   - 시스템 환경설정(System Preferences)
   - chmod, chown 등 Unix 명령어
   - Disk Utility의 권한 복구

#### 권한 상승 기법
일시적으로 높은 권한을 획득하는 기법입니다:

1. **Windows 권한 상승**:
   - 관리자 권한으로 실행(Run as Administrator)
   - UAC 프롬프트 승인
   - runas 명령어

2. **Unix/Linux 권한 상승**:
   - sudo 명령어
   - su 명령어
   - SUID 설정 파일 실행
   - PolicyKit(pkexec)

3. **권한 상승 제한 기법**:
   - 세션 타임아웃 설정
   - 권한 상승 로깅
   - 다중 요소 인증 요구

### 권한 관리 취약점과 공격

#### 주요 권한 관리 취약점
권한 관리 시스템에 존재할 수 있는 취약점입니다:

1. **과도한 권한 부여**:
   - 필요 이상의 권한 부여
   - 권한 검토 부재

2. **기본 계정 및 권한**:
   - 안전하지 않은 기본 설정
   - 불필요한 기본 계정 활성화

3. **권한 상승 취약점**:
   - 버퍼 오버플로우
   - 레이스 컨디션
   - 설정 오류

4. **권한 지속성 문제**:
   - 미사용 계정의 권한 유지
   - 퇴사자 계정 미삭제

5. **특수 권한 관리 부실**:
   - SetUID/SetGID 파일 관리 부실
   - sudo 설정 오류

#### 주요 권한 공격 기법
권한 관리 시스템을 대상으로 하는 공격 기법입니다:

1. **권한 상승 공격(Privilege Escalation)**:
   - 수직적 권한 상승: 일반 사용자 → 관리자
   - 수평적 권한 상승: 다른 사용자 권한 획득

2. **권한 오용 공격**:
   - 합법적 권한의 악의적 사용
   - 내부자 위협

3. **SetUID 악용**:
   - SetUID 바이너리 취약점 공격
   - 환경 변수 조작

4. **sudo 취약점 공격**:
   - sudo 설정 오류 악용
   - sudo 버전 취약점

5. **DLL 하이재킹**:
   - 높은 권한 프로세스의 DLL 로딩 경로 악용
   - 악성 DLL 주입

### 권한 관리 보안 강화 방안

#### 기술적 대응 방안
권한 관리 시스템의 보안을 강화하기 위한 기술적 방안입니다:

1. **최소 권한 원칙 적용**:
   - 필요한 최소한의 권한만 부여
   - 정기적인 권한 검토 및 조정

2. **권한 분리 구현**:
   - 관리자 권한 세분화
   - 직무별 권한 그룹 설정

3. **권한 상승 통제**:
   - 권한 상승 요청 승인 프로세스
   - 권한 상승 활동 모니터링

4. **특수 권한 파일 관리**:
   - SetUID/SetGID 파일 최소화
   - 특수 권한 파일 정기 검사

5. **권한 감사 및 모니터링**:
   - 권한 변경 로깅
   - 비정상적인 권한 사용 탐지

#### 관리적 대응 방안
권한 관리 보안을 위한 관리적 방안입니다:

1. **권한 관리 정책 수립**:
   - 명확한 권한 할당 기준 정의
   - 권한 요청 및 승인 절차 수립

2. **계정 수명 주기 관리**:
   - 입사, 부서 이동, 퇴사에 따른 권한 조정
   - 미사용 계정 비활성화

3. **권한 정기 검토**:
   - 사용자 권한 정기 검토
   - 불필요한 권한 제거

4. **관리자 계정 특별 관리**:
   - 관리자 계정 인벤토리 관리
   - 관리자 계정 사용 감사

5. **사용자 교육**:
   - 권한 사용 책임 교육
   - 권한 상승 요청 절차 교육

### 권한 관리 모범 사례

#### 일반적인 모범 사례
효과적인 권한 관리를 위한 모범 사례입니다:

1. **역할 기반 권한 관리**:
   - 직무에 따른 역할 정의
   - 역할에 권한 할당
   - 사용자에게 역할 부여

2. **권한 요청 및 승인 프로세스**:
   - 공식적인 권한 요청 절차
   - 관리자 승인 필요
   - 권한 요청 사유 문서화

3. **임시 권한 관리**:
   - 필요 시에만 임시 권한 부여
   - 권한 만료 시간 설정
   - 임시 권한 사용 감사

4. **권한 위임(Delegation)**:
   - 제한된 관리 권한 위임
   - 위임된 권한 모니터링
   - 위임 범위 명확화

#### 운영체제별 모범 사례
각 운영체제에 특화된 권한 관리 모범 사례입니다:

1. **Windows 권한 관리 모범 사례**:
   - 로컬 관리자 그룹 제한
   - UAC 비활성화 금지
   - 그룹 정책을 통한 권한 관리
   - 관리자 계정 이름 변경

2. **Unix/Linux 권한 관리 모범 사례**:
   - root 직접 로그인 제한
   - sudo 사용 제한 및 로깅
   - umask 적절히 설정
   - SetUID/SetGID 파일 최소화

3. **macOS 권한 관리 모범 사례**:
   - FileVault 암호화 사용
   - 게스트 계정 비활성화
   - 시스템 무결성 보호(SIP) 유지
   - 앱 샌드박싱 활용

### 5가지 키워드로 정리하는 핵심 포인트
1. **최소 권한 원칙**: 필요한 최소한의 권한만 부여하여 보안 위험 최소화
2. **권한 유형**: 파일 시스템 권한, 시스템 권한, 프로세스 권한 등 다양한 권한 유형
3. **권한 상승**: 일시적으로 높은 권한을 획득하는 메커니즘과 이에 대한 통제
4. **권한 공격**: 권한 상승 공격, 권한 오용 등 권한 관련 공격 기법
5. **권한 관리 모범 사례**: 역할 기반 권한 관리, 정기적 권한 검토 등 효과적인 권한 관리 방안

### 확인 문제
1. 다음 중 최소 권한 원칙(Principle of Least Privilege)에 대한 설명으로 가장 적절한 것은?
    - [ ] 모든 사용자에게 동일한 권한을 부여하는 원칙
    - [ ] 작업 수행에 필요한 최소한의 권한만 부여하는 원칙
    - [ ] 관리자 권한을 가능한 많은 사용자에게 부여하는 원칙
    - [ ] 시스템 자원에 대한 모든 접근을 차단하는 원칙

2. Unix/Linux 시스템에서 SetUID 권한이 설정된 파일의 특징으로 올바른 것은?
    - [ ] 누구나 해당 파일을 실행할 수 있다
    - [ ] 해당 파일은 실행될 때 파일 소유자의 권한으로 실행된다
    - [ ] 해당 파일은 수정이 불가능하다
    - [ ] 해당 파일은 자동으로 백업된다

3. 권한 관리 보안을 강화하기 위한 방법으로 올바른 것을 모두 고르시오.
    - [ ] 모든 사용자에게 관리자 권한 부여
    - [ ] 정기적인 권한 검토 및 불필요한 권한 제거
    - [ ] 권한 변경에 대한 로깅 및 모니터링
    - [ ] 기본 관리자 계정 비밀번호 유지
    - [ ] 직무에 따른 역할 기반 권한 관리 구현

> [정답 및 해설 보기](../answers_and_explanations.md#02-3-3)
